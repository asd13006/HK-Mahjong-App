/* --- 1. 徹底消滅捲軸與 Android 刷新 --- */
html, body {
    overscroll-behavior-y: none;
    overscroll-behavior-x: none;
    scrollbar-width: none; 
    -ms-overflow-style: none; 
}
html::-webkit-scrollbar, body::-webkit-scrollbar {
    display: none;
}

/* --- 2. 安全區域與緊湊的底部 --- */
body { 
    padding-bottom: max(8px, env(safe-area-inset-bottom)); 
}
.footer-credit { 
    margin-bottom: 0px; 
    margin-top: 15px; 
    padding-top: 5px; 
}

/* --- 3. 效能優化版的動畫與濾鏡 --- */
.flower-tile.active { 
    transform: scale(1.08) translate3d(0, -2px, 0); 
    z-index: 10; 
    background-color: rgba(255,255,255,0.3); 
    backdrop-filter: blur(10px) saturate(180%); 
    -webkit-backdrop-filter: blur(10px) saturate(180%); 
    box-shadow: inset 0 0 0 1px rgba(255,255,255, 0.9), inset 0 1px 3px rgba(255,255,255, 0.8), 0 12px 24px rgba(0,0,0,0.15); 
}
.breathing { 
    animation: floatBreathing 3s ease-in-out 4 alternate forwards; 
    will-change: transform; 
}
@keyframes floatBreathing { 
    0% { transform: translate3d(0, 0px, 0); } 
    100% { transform: translate3d(0, -3px, 0); } 
}

/* --- 4. 邊緣光暈 --- */
.edge-glow {
    position: fixed; left: 0; width: 100%; height: 150px;
    pointer-events: none; opacity: 0; z-index: 9999;
    will-change: opacity, transform; 
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}
.edge-top { top: 0; background: radial-gradient(ellipse at top, rgba(255,255,255,0.6) 0%, transparent 70%); transform: scaleY(0.3) translateY(-20px); transform-origin: top; }
.edge-bottom { bottom: 0; background: radial-gradient(ellipse at bottom, rgba(255,255,255,0.6) 0%, transparent 70%); transform: scaleY(0.3) translateY(20px); transform-origin: bottom; }
.edge-glow.is-pulling { opacity: 1; transform: scaleY(1) translateY(0); }

/* --- 5. 史詩連擊特效 --- */
#statusCard::after { 
    content: ""; position: absolute; inset: -2px; border-radius: inherit; z-index: -2; pointer-events: none; opacity: 0.8; 
    transition: opacity 0.8s ease, box-shadow 0.4s ease, background-color 0.4s ease; 
}
#statusCard.glow-normal::after { box-shadow: 0 0 25px rgba(125, 211, 252, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.6); }
#statusCard.glow-epic::after { box-shadow: 0 0 35px rgba(250, 204, 21, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.8); background-color: rgba(250, 204, 21, 0.05); }
#statusCard.glow-fail::after { box-shadow: 0 0 25px rgba(239, 68, 68, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.6); }

.pattern-tag.hide-tag { opacity: 0; transform: scale(0.8) translateY(10px); }
.pattern-tag.pop-in-tag { opacity: 1; transform: scale(1) translateY(0); transition: opacity 0.2s ease-out, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
.pattern-tag.epic-tag { background: linear-gradient(135deg, #422006 0%, #713f12 100%); color: #fef08a; border: 1px solid #eab308; box-shadow: 0 4px 10px rgba(234, 179, 8, 0.3); }