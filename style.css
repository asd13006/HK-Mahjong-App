/* ==== Ê†∏ÂøÉÁí∞Â¢ÉË®≠ÂÆö ==== */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; touch-action: manipulation; }

/* üî• ÁµÇÊ•µÁ¨¨‰∏ÄÈÅìÈò≤Á∑öÔºöÈéñÊ≠ªÈÇäÁïåÔºå‰∏¶ÊñΩÂ±ïÈö±ÂΩ¢Êç≤Ëª∏È≠îÊ≥ï */
html, body {
    overscroll-behavior-y: none;
    overscroll-behavior-x: none;
    scrollbar-width: none; 
    -ms-overflow-style: none; 
}

html::-webkit-scrollbar, body::-webkit-scrollbar {
    display: none;
}

body { 
    background-color: #e0f2fe; 
    color: #1e293b; 
    display: flex; justify-content: center; min-height: 100vh; position: relative; 
    padding-top: max(30px, env(safe-area-inset-top) + 10px); padding-right: 15px; 
    padding-bottom: max(8px, env(safe-area-inset-bottom)); 
    padding-left: 15px; 
    touch-action: pan-y; 
    -webkit-user-select: none; -moz-user-select: none; user-select: none; 
    -webkit-tap-highlight-color: transparent; 
    transition: color 0.8s ease; 
}

.bg-layer { position: fixed; inset: 0; z-index: -2; opacity: 0; transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1); pointer-events: none; }
.bg-base { background: linear-gradient(135deg, #e0f2fe 0%, #f3e8ff 50%, #fce7f3 100%); opacity: 1; }
.bg-success { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); }
.bg-limit { background: linear-gradient(135deg, #fef9c3 0%, #fde047 100%); }
.bg-failure { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); }

body.success-mode .bg-base { opacity: 0; } body.success-mode .bg-success { opacity: 1; } body.success-mode { color: #172554; }
body.limit-mode .bg-base { opacity: 0; } body.limit-mode .bg-limit { opacity: 1; } body.limit-mode { color: #422006; }
body.failure-mode .bg-base { opacity: 0; } body.failure-mode .bg-failure { opacity: 1; } body.failure-mode { color: #450a0a; }

.app-container { width: 100%; max-width: 420px; display: flex; flex-direction: column; gap: 18px; position: relative; z-index: 1; padding-bottom: 20px; flex: 1; }

.glass-card { position: relative; backdrop-filter: blur(20px) saturate(120%); -webkit-backdrop-filter: blur(20px) saturate(120%); border-radius: 28px; border: 1px solid rgba(255, 255, 255, 0.6); box-shadow: 0 8px 32px rgba(31, 38, 135, 0.10), inset 0 1px 1px rgba(255, 255, 255, 0.8); padding: 20px; transform: translateZ(0); z-index: 1; transition: border-color 0.8s ease, box-shadow 0.8s ease, transform 0.3s ease; }
.glass-card::before { content: ""; position: absolute; inset: 0; border-radius: inherit; z-index: -1; background-color: rgba(255, 255, 255, 0.5); transition: background-color 0.8s cubic-bezier(0.4, 0, 0.2, 1); will-change: background-color; }

body.success-mode #statusCard { border-color: rgba(147, 197, 253, 0.8); box-shadow: 0 12px 36px rgba(59, 130, 246, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.5); } body.success-mode #statusCard::before { background-color: rgba(219, 234, 254, 0.7); }
body.limit-mode #statusCard { border-color: rgba(253, 224, 71, 0.8); box-shadow: 0 12px 36px rgba(234, 179, 8, 0.2), inset 0 2px 15px rgba(250, 204, 21, 0.3); } body.limit-mode #statusCard::before { background-color: rgba(254, 249, 195, 0.7); }
body.failure-mode #statusCard { border-color: rgba(252, 165, 165, 0.8); box-shadow: 0 12px 36px rgba(239, 68, 68, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.5); } body.failure-mode #statusCard::before { background-color: rgba(254, 226, 226, 0.7); }

.status-title, .score-display, .pattern-name { transition: opacity 0.25s ease, transform 0.25s ease, color 0.3s ease; }
.content-fade-out .status-title, .content-fade-out .score-display, .content-fade-out .pattern-name { opacity: 0; transform: scale(0.95); }

.status-header { text-align: center; }
.status-title { font-size: 13px; opacity: 0.6; letter-spacing: 2px; margin-bottom: 8px; text-transform: uppercase; font-weight: 600; color: #64748b; }

.score-display { 
    display: flex; align-items: baseline; justify-content: center; gap: 4px;
    font-size: 64px; font-weight: 300; line-height: 1; margin-bottom: 12px; color: #0f172a; text-shadow: 0 2px 10px rgba(0,0,0,0.05); font-variant-numeric: tabular-nums; 
}
.score-display span:last-child { margin-left: 0 !important; }

.heartbeat-pop { animation: heartbeat 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; will-change: transform; }
@keyframes heartbeat { 0% { transform: scale(1); } 40% { transform: scale(1.15); } 100% { transform: scale(1); } }

.pattern-name { font-size: 15px; font-weight: 500; min-height: 24px; display: flex; flex-wrap: wrap; justify-content: center; gap: 6px;}

.dynamic-island { 
    background: rgba(255, 255, 255, 0.7); 
    backdrop-filter: blur(20px) saturate(150%); 
    -webkit-backdrop-filter: blur(20px) saturate(150%); 
    border: 1px solid rgba(255, 255, 255, 0.5); 
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08), inset 0 1px 1px rgba(255, 255, 255, 0.8); 
    border-radius: 30px; 
    margin: 0 auto; 
    width: 100%; 
    max-width: 180px; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    color: #334155;
    transition: max-width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), border-radius 0.4s ease, background 0.4s ease; 
    transform: translateZ(0); 
    will-change: max-width, border-radius, transform; 
}
.dynamic-island.expanded { max-width: 420px; border-radius: 28px; background: rgba(255, 255, 255, 0.6); }
.island-header { padding: 12px 20px; display: flex; justify-content: center; align-items: center; gap: 8px; cursor: pointer; user-select: none; }

.island-title { font-size: 13px; font-weight: 700; color: #475569; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block; transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease, color 0.3s ease; }
.island-title.slide-out { transform: translateY(-10px); opacity: 0; transition: transform 0.2s ease-in, opacity 0.2s ease-in; }
.island-title.slide-in { transform: translateY(10px); opacity: 0; transition: none; }

.island-chevron { font-size: 10px; opacity: 0.6; transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); color: #64748b; }
.dynamic-island.expanded .island-chevron { transform: rotate(-180deg); }

.island-content-grid { 
    display: block; 
    max-height: 0;  
    transition: max-height 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); 
    will-change: max-height;
}
.dynamic-island.expanded .island-content-grid { max-height: 480px; }

.island-content-inner { min-height: 0; overflow: hidden; display: flex; flex-direction: column; }
.island-section { padding: 0 16px 16px 16px; opacity: 0; transform: translateY(-10px); transition: opacity 0.2s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
.dynamic-island.expanded .island-section { opacity: 1; transform: translateY(0); }
.dynamic-island.expanded .island-section:nth-child(1) { transition-delay: 0.05s; }
.dynamic-island.expanded .island-section:nth-child(3) { transition-delay: 0.10s; }
.dynamic-island.expanded .island-section:nth-child(5) { transition-delay: 0.15s; }
.island-divider { height: 1px; background: rgba(0, 0, 0, 0.06); margin: 0 16px 12px 16px; opacity: 0; transition: opacity 0.3s; }
.dynamic-island.expanded .island-divider { opacity: 1; }
.island-section-header { font-size: 12px; opacity: 0.8; margin-bottom: 10px; display: flex; justify-content: space-between; font-weight: 700; color: #475569; letter-spacing: 1px; }

.conditions-wrapper { 
    display: grid; 
    grid-template-columns: repeat(6, minmax(0, 1fr)); 
    gap: 8px; 
}

/* ==== ‚ú® ÁâåÂ±ÄË®≠ÂÆöÊ®ôÁ±§Êú¨È´î (ÊØõÁéªÁíÉÊøæÈè°) ==== */
.condition-chip { 
    padding: 8px 2px; 
    border-radius: 20px; 
    font-size: 11px; 
    font-weight: 600; 
    background: rgba(255, 255, 255, 0.5); 
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.8); 
    color: #64748b; 
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    text-align: center; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
    white-space: nowrap; 
    letter-spacing: -0.2px; 
    grid-column: span 2; 
    position: relative;
    z-index: 1; 
    transition: color 0.3s ease, background-color 0.3s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), border-color 0.3s ease, z-index 0s;
    will-change: transform; 
}

.condition-chip::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: -1;
    border-radius: inherit;
    background: linear-gradient(135deg, #4da3ff 0%, #8b5cf6 100%);
    box-shadow: 0 3px 12px rgba(139, 92, 246, 0.45), inset 0 1px 1px rgba(255, 255, 255, 0.4); 
    opacity: 0;
    will-change: opacity;
    transition: opacity 0.3s ease-in-out;
}

.condition-chip.active {
    background-color: transparent !important; 
    border-color: transparent !important;
    box-shadow: none; 
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    transform: scale(1.02); 
    z-index: 10; 
}

.condition-chip.active::before { opacity: 1; }
.condition-chip:nth-child(7), .condition-chip:nth-child(8) { grid-column: span 3; }
@media (max-width: 380px) { .condition-chip { font-size: 10px; letter-spacing: -0.5px; } }

/* ==== ‚ú® v2.8.28 Ê•µËá¥ÁéªÁíÉÊì¨ÊÖã (Glassmorphism) ÊªëÂ°ä ==== */
.wind-layout-container { 
    display: flex; 
    align-items: flex-end; 
    justify-content: space-between; 
    gap: 12px; 
    width: 100%; 
    margin-top: 0; 
}
.wind-block { display: flex; flex-direction: column; flex: 1; gap: 6px; }

/* ËªåÈÅì (ÂáπÊßΩ) */
.wind-segment-control { 
    display: flex; 
    position: relative; 
    gap: 0; 
    justify-content: space-between; 
    background: rgba(241, 245, 249, 0.7); 
    padding: 2px; 
    border-radius: 99px; 
    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.04), inset 0 1px 1px rgba(0, 0, 0, 0.02); 
    overflow: hidden; 
}

/* Áç®Á´ãÁöÑÁéªÁíÉÊì¨ÊÖãÊº∏ËÆäÊªëÂ°ä */
.glass-glider { 
    position: absolute; 
    top: 2px; 
    left: 2px; 
    width: calc(25% - 1px); 
    height: calc(100% - 4px); 
    border-radius: 99px; 
    
    /* Êº∏ËÆäÈÇäÊ°Ü + ÁéªÁíÉÊì¨ÊÖã ÈõôÈáçÈ≠îÊ≥ï (Generate È¢®Ê†º) */
    border: 2px solid transparent; 
    background: 
        linear-gradient(rgba(255, 255, 255, 0.45), rgba(255, 255, 255, 0.45)) padding-box, 
        linear-gradient(to right, #00f2fe, #4facfe, #8b5cf6) border-box; 
    
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25), inset 0 1px 1px rgba(255, 255, 255, 0.8);
    
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); 
    will-change: transform; 
    z-index: 1; 
}

/* ÊåâÈàïÊñáÂ≠óÊú¨È´î */
.wind-tab { 
    flex: 1; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    padding: 6px 0; 
    background: transparent; 
    border: none; 
    box-shadow: none; 
    font-size: 13px; 
    cursor: pointer; 
    color: #94a3b8; 
    font-weight: 600; 
    position: relative; 
    z-index: 2; 
    transition: all 0.2s ease; 
    will-change: transform; 
}
/* ÈÅ∏‰∏≠ÁãÄÊÖãÂ≠óÈ´î */
.wind-tab.active { 
    color: #6366f1; /* Ê∑±ËóçÁ¥´ÔºåÈÖçÂêà Generate È¢®Ê†º */
    font-weight: 800; 
}

.wind-divider { width: 2px; height: 38px; background-color: #e2e8f0; border-radius: 2px; margin-bottom: 2px; }

/* ==== ‚ú® Ëä±ÁâåÊåâÈàï (Ê•µËá¥ÁéªÁíÉÊì¨ÊÖã) ==== */
.flower-grid { display: grid; grid-template-columns: repeat(8, 1fr); gap: 10px; padding: 6px 4px; }
.flower-tile { 
    position: relative; z-index: 1; aspect-ratio: 3/4; 
    background-size: 88%; background-position: center; background-repeat: no-repeat; overflow: hidden; 
    cursor: pointer; 
    transition: all 0.2s ease; 
    will-change: transform, box-shadow, backdrop-filter; 
    
    background-color: rgba(255, 255, 255, 0.45); 
    -webkit-backdrop-filter: blur(12px); 
    backdrop-filter: blur(12px); 
    border: 1px solid rgba(255, 255, 255, 0.6); 
    border-bottom-color: rgba(255, 255, 255, 0.2); 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03), inset 0 1px 1px rgba(255, 255, 255, 0.8); 
    border-radius: 12px; 
}
.flower-tile.active { 
    transform: scale(1.08) translate3d(0, -2px, 0); 
    z-index: 10; 
    background-color: rgba(255, 255, 255, 0.9); 
    border: 1px solid #fcd34d; 
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.15), inset 0 1px 2px rgba(255, 255, 255, 1); 
    backdrop-filter: blur(10px) saturate(180%); 
    -webkit-backdrop-filter: blur(10px) saturate(180%); 
}
.flower-tile::after { content: ""; position: absolute; inset: 0; border-radius: 8px; background: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 40%, rgba(255,255,255,0) 100%); opacity: 0; transition: opacity 0.3s ease; pointer-events: none; mix-blend-mode: overlay; }
.flower-tile.active::after { opacity: 1; }

.hand-container { min-height: 120px; }
.hand-header { display: flex; justify-content: space-between; align-items: center; font-size: 13px; opacity: 0.8; margin-bottom: 12px; font-weight: 600; color: #475569; }
.tiles-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.tiles-grid::after { content: ""; grid-column: 1; grid-row: 3; aspect-ratio: 3/4; pointer-events: none; visibility: hidden; }

@keyframes popIn { 0% { opacity: 0; transform: scale(0.6) translate3d(0, 20px, 0); } 100% { opacity: 1; transform: scale(1) translate3d(0, 0, 0); } }
.enter-anim { animation: popIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; will-change: transform, opacity; }
@keyframes slotExpand { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
.empty-enter-anim { animation: slotExpand 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; will-change: transform, opacity; }

@keyframes popOut {
    0% { opacity: 1; transform: scale(1) translateZ(0); }
    20% { opacity: 1; transform: scaleX(1.05) scaleY(0.95) translateZ(0); }
    100% { opacity: 0; transform: scaleX(0) scaleY(0) translateZ(0); }
}

.breathing { 
    animation: floatBreathing 3s ease-in-out 4 alternate forwards; 
    will-change: transform; 
}
@keyframes floatBreathing { 
    0% { transform: translate3d(0, 0px, 0); } 
    100% { transform: translate3d(0, -3px, 0); } 
}

.keyboard { display: flex; flex-direction: column; gap: 8px; margin-top: 0 !important; }
.suit-row { display: grid; grid-template-columns: repeat(9, 1fr); gap: 5px; }

/* ==== ‚ú® È∫ªÈõÄÂØ¶È´îÁâå (Ê•µËá¥ÁéªÁíÉÊì¨ÊÖã) ==== */
.tile { 
    aspect-ratio: 3/4; width: 100%; height: auto; 
    background-size: 85%; background-position: center; background-repeat: no-repeat; 
    cursor: pointer; color: #1e293b; 
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s, border-color 0.2s; 
    will-change: transform; 
    
    background-color: rgba(255, 255, 255, 0.55); 
    -webkit-backdrop-filter: blur(12px) saturate(110%); 
    backdrop-filter: blur(12px) saturate(110%); 
    border: 1px solid rgba(255, 255, 255, 0.7); 
    border-bottom: 1px solid rgba(255, 255, 255, 0.2); 
    border-right: 1px solid rgba(255, 255, 255, 0.2); 
    box-shadow: 0 5px 12px rgba(0, 0, 0, 0.04), inset 0 1px 1px rgba(255, 255, 255, 0.9); 
    border-radius: 10px; 
}
.is-tapped-tile { animation: none !important; transform: translate3d(0, 2px, 0) scale(0.92) !important; box-shadow: 0 1px 2px rgba(0,0,0,0.1), inset 0 -1px 0 rgba(0,0,0,0.05) !important; transition: none !important; }
.is-tapped-chip { transform: scale(0.92) !important; transition: none !important; opacity: 0.8; }
.is-tapped-island { transform: scale(0.96) translateZ(0) !important; transition: none !important; }

/* ==== ‚ú® ÊöóÁâåÂçÄÁ©∫ÊßΩ (Ê•µËá¥ÁéªÁíÉÊì¨ÊÖãÔºöÂáπÈô∑ÊüîÂíåÊ∫ùÊßΩ) ==== */
.tile.empty { 
    background-image: none !important; 
    cursor: default; 
    background-color: rgba(255, 255, 255, 0.15); 
    -webkit-backdrop-filter: none; 
    backdrop-filter: none; 
    border: none; 
    box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.06), inset 0 0 0 1px rgba(255, 255, 255, 0.3); 
    border-radius: 10px; 
    opacity: 0.8; 
}

/* ==== ‚ú® Ê∏ÖÈô§ÊåâÈàï (Áúü„ÉªÂÜ∞Â°äÁéªÁíÉÊì¨ÊÖã) ==== */
.clear-btn { 
    background: rgba(255, 255, 255, 0.2) !important; 
    backdrop-filter: blur(16px) saturate(150%);
    -webkit-backdrop-filter: blur(16px) saturate(150%);
    border: 1px solid rgba(255, 255, 255, 0.2) !important; 
    border-top: 1px solid rgba(255, 255, 255, 0.8) !important; 
    border-left: 1px solid rgba(255, 255, 255, 0.5) !important; 
    box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.9), 0 4px 12px rgba(0, 0, 0, 0.05) !important; 
    border-radius: 20px !important; 
    color: #475569 !important; 
    padding: 5px 12px !important; 
    font-size: 12px !important; 
    line-height: 1 !important; 
    font-weight: 600 !important; 
    cursor: pointer; 
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.2s, border-color 0.2s, color 0.2s, box-shadow 0.2s; 
    will-change: transform; 
}

.install-btn { background: linear-gradient(135deg, #3b82f6, #8b5cf6); border: 1px solid rgba(255, 255, 255, 0.3); color: white; padding: 12px 24px; border-radius: 20px; font-size: 15px; font-weight: 600; letter-spacing: 1px; cursor: pointer; display: none; box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3), inset 0 1px 1px rgba(255,255,255,0.4); margin: 10px auto 0 auto; backdrop-filter: blur(10px); transition: transform 0.2s ease; position: relative; overflow: hidden; }
.install-btn::before { content: ""; position: absolute; top: 0; left: -150%; width: 50%; height: 100%; background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%); transform: skewX(-25deg); animation: diamondShimmer 6s infinite; pointer-events: none; }
@keyframes diamondShimmer { 0% { left: -150%; } 15% { left: 200%; } 100% { left: 200%; } }

.footer-credit { text-align: center; font-size: 11px; font-weight: 400; color: #94a3b8; letter-spacing: 0.5px; margin-bottom: 0px; display: flex; flex-direction: column; gap: 4px; margin-top: 15px; padding-top: 5px; }
.version-num { font-size: 10px; opacity: 0.8; }

#statusCard::after { content: ""; position: absolute; inset: -2px; border-radius: inherit; z-index: -2; pointer-events: none; box-shadow: 0 0 25px rgba(125, 211, 252, 0.5), inset 0 0 15px rgba(255, 255, 255, 0.6); opacity: 0.8; transition: opacity 0.8s ease; }
.jelly-squish { animation: jellySquish 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); transform-origin: top center; }
.jelly-stretch { animation: jellyStretch 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); transform-origin: top center; }
#keyboard.jelly-squish, #keyboard.jelly-stretch { animation-delay: 0.05s; }

.dynamic-island.update-ready { border-color: rgba(234, 179, 8, 0.6); animation: islandUpdateBreathe 2s cubic-bezier(0.4, 0, 0.6, 1) infinite alternate; }
.dynamic-island.update-ready:not(.expanded) { max-width: 280px; }
@keyframes islandUpdateBreathe { 0% { box-shadow: 0 8px 24px rgba(234, 179, 8, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.8); } 100% { box-shadow: 0 8px 36px rgba(234, 179, 8, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.8); } }

.edge-glow { position: fixed; left: 0; width: 100%; height: 150px; pointer-events: none; opacity: 0; z-index: 9999; will-change: opacity, transform; transition: opacity 0.3s ease-out, transform 0.3s ease-out; }
.edge-top { top: 0; background: radial-gradient(ellipse at top, rgba(255,255,255,0.6) 0%, transparent 70%); transform: scaleY(0.3) translateY(-20px); transform-origin: top; }
.edge-bottom { bottom: 0; background: radial-gradient(ellipse at bottom, rgba(255,255,255,0.6) 0%, transparent 70%); transform: scaleY(0.3) translateY(20px); transform-origin: bottom; }
.edge-glow.is-pulling { opacity: 1; transform: scaleY(1) translateY(0); }

.baau-pang-text { position: relative; display: inline-block; background-image: linear-gradient(135deg, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.9) 50%, rgba(255, 255, 255, 0) 60%), linear-gradient(to bottom, #d97706, #92400e); background-size: 200% 200%, 100% 100%; background-position: 200% 200%, 0 0; background-repeat: no-repeat; color: transparent; -webkit-background-clip: text; background-clip: text; filter: drop-shadow(0px 0px 8px rgba(255, 255, 255, 0.6)) drop-shadow(0px 0px 25px rgba(245, 158, 11, 0.8)); will-change: transform, background-position; animation: holyFloatSmooth 2.5s ease-in-out infinite alternate, glassGlareSweep 3s cubic-bezier(0.25, 0.1, 0.25, 1) infinite !important; }
.baau-pang-text::before { content: '‚ú¶'; position: absolute; top: -15px; left: -20px; font-size: 28px; color: #fffbeb; text-shadow: 0 0 10px #fcd34d; z-index: 10; pointer-events: none; will-change: transform, opacity; animation: starTwinkleSmoothA 2s ease-in-out infinite alternate; }
.baau-pang-text::after { content: '‚ú¶'; position: absolute; bottom: -5px; right: -15px; font-size: 20px; color: #ffffff; text-shadow: 0 0 8px #f59e0b; z-index: 10; pointer-events: none; will-change: transform, opacity; animation: starTwinkleSmoothB 2.5s ease-in-out infinite alternate-reverse; }

@keyframes glassGlareSweep { 0% { background-position: 200% 200%, 0 0; } 35% { background-position: -100% -100%, 0 0; } 100% { background-position: -100% -100%, 0 0; } }
@keyframes holyFloatSmooth { 0% { transform: scale(1) translateY(0) translateZ(0); } 100% { transform: scale(1.06) translateY(-3px) translateZ(0); } }
@keyframes starTwinkleSmoothA { 0% { transform: scale(0.4) rotate(0deg) translateZ(0); opacity: 0.2; } 100% { transform: scale(1.1) rotate(45deg) translateZ(0); opacity: 1; } }
@keyframes starTwinkleSmoothB { 0% { transform: scale(0.3) rotate(15deg) translateZ(0); opacity: 0.1; } 100% { transform: scale(1.3) rotate(-30deg) translateZ(0); opacity: 0.9; } }

.pattern-tag { transition: all 0.3s ease; }
.pattern-tag.tier-common { background-color: #f1f5f9; color: #475569; border: 1px solid #e2e8f0; box-shadow: none; }
.pattern-tag.tier-rare { background: linear-gradient(135deg, #0ea5e9, #2dd4bf); color: #ffffff; border: 1px solid transparent; box-shadow: 0 2px 8px rgba(14, 165, 233, 0.4); text-shadow: 0 1px 2px rgba(0,0,0,0.1); }
.pattern-tag.tier-epic { background: linear-gradient(135deg, #8b5cf6, #ec4899); color: #ffffff; border: 1px solid transparent; box-shadow: 0 0 12px rgba(236, 72, 153, 0.6); text-shadow: 0 1px 3px rgba(0,0,0,0.2); font-weight: 500; }
.pattern-tag.tier-legendary { background: linear-gradient(to bottom, #d97706, #92400e); color: #fef3c7; border: 1px solid #fcd34d; box-shadow: 0 0 15px rgba(245, 158, 11, 0.8), inset 0 0 5px rgba(255, 255, 255, 0.2); text-shadow: 0 0 6px rgba(253, 230, 138, 0.6); font-weight: 600; }

.pattern-tag.hide-tag { opacity: 0 !important; transform: translateY(20px) scale(0.8); pointer-events: none; }
.pattern-tag.pop-in-tag { opacity: 1; transform: translateY(0) scale(1); animation: tagSpringUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
.pattern-tag.tier-epic.pop-in-tag { animation: tagSpringUpEpic 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.5) forwards; }
.pattern-tag.tier-legendary.pop-in-tag { animation: tagSpringUpLegendary 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.8) forwards; }

@keyframes tagSpringUp { 0% { opacity: 0; transform: translateY(20px) scale(0.8); } 100% { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes tagSpringUpEpic { 0% { opacity: 0; transform: translateY(25px) scale(0.6); filter: brightness(2); } 100% { opacity: 1; transform: translateY(0) scale(1); filter: brightness(1); } }
@keyframes tagSpringUpLegendary { 0% { opacity: 0; transform: translateY(30px) scale(0.4); filter: brightness(3) drop-shadow(0 0 30px #fcd34d); } 100% { opacity: 1; transform: translateY(0) scale(1); filter: brightness(1) drop-shadow(0 0 15px rgba(245, 158, 11, 0.8)); } }

/* ==== ‚ú® App ÈñãÂ†¥ÁÄëÂ∏ÉÊµÅÊº∏È°ØÂãïÁï´ (Cascading Fade-In) ==== */
@keyframes appFadeInUp {
    0% { opacity: 0; transform: translateY(20px) translateZ(0); }
    100% { opacity: 1; transform: translateY(0) translateZ(0); }
}

#statusCard, #conditionsIsland, #handCard, #keyboard {
    opacity: 0; 
    animation: appFadeInUp 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    will-change: transform, opacity;
}

#statusCard { animation-delay: 0.05s; }
#conditionsIsland { animation-delay: 0.15s; }
#handCard { animation-delay: 0.25s; }
#keyboard { animation-delay: 0.35s; }